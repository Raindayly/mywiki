<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yly.wiki.mapper.MyDocMapper">
<!--         这里使用#{} 使用 ${}有被sql注入的风险-->
<!--      #{}是简单的字符串替换-->
<!--        ${}是语句替换-->
    <update id="increaseViewCount">
        update doc set view_count = view_count + 1 where  id = #{id}
    </update>
    <update id="increaseVoteCount">
        update doc set vote_count = vote_count + 1 where  id = #{id}
    </update>
    <select id="list" resultType="com.yly.wiki.entity.Test">
        select `id`, `name`, `password` from `test`
    </select>
    <select id="voteSum" resultType="Integer">
        select sum(vote_count) from doc
    </select>
    <select id="viewSum" resultType="Integer">
        select sum(view_count) from doc
    </select>
</mapper>